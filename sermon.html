<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>하나님의 법과 공동체 - 비주얼 노벨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --dialogue-bg: rgba(10, 25, 47, 0.85);
            --name-bg: #172A46;
            --text-color: #E6F1FF;
            --border-color: #64FFDA;
            --font-main: 'Nanum Myeongjo', serif;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: var(--font-main);
            background-color: #0A192F;
            color: var(--text-color);
            overflow: hidden;
        }

        #whole-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            /* --- 배경 이미지 설정 --- */
            /* background: #0A192F; 기존 배경색은 주석 처리합니다. */
            background-image: url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=2071&auto=format&fit=crop'); /* 원하시는 배경 이미지 URL로 변경하세요. */
            background-size: cover; /* 이미지가 전체 영역을 덮도록 설정합니다. */
            background-position: center; /* 이미지를 중앙에 위치시킵니다. */
            overflow: hidden;
        }

        /* Animated background effect from the streaming version */
        #whole-wrapper::before, #whole-wrapper::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            z-index: 1;
            filter: blur(50px);
        }

        #whole-wrapper::before {
            width: 80vmax;
            height: 80vmax;
            background: radial-gradient(circle, #ffc94d 0%, rgba(255,201,77,0) 60%);
            animation: move-glow 25s infinite alternate ease-in-out;
        }

        #whole-wrapper::after {
            width: 60vmax;
            height: 60vmax;
            background: radial-gradient(circle, #a1c4fd 0%, rgba(161,196,253,0) 60%);
            animation: move-glow-2 30s infinite alternate ease-in-out;
        }

        @keyframes move-glow {
            from { transform: translate(-20%, -20%) scale(0.8); }
            to { transform: translate(20%, 20%) scale(1.2); }
        }
        @keyframes move-glow-2 {
            from { transform: translate(30%, -30%) scale(1.1); }
            to { transform: translate(-30%, 30%) scale(0.9); }
        }

        /* Floating particles effect */
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(100, 255, 218, 0.3);
            pointer-events: none;
            z-index: 2;
            animation: float-particle 20s infinite ease-in-out;
        }

        .particle:nth-child(1) {
            width: 4px;
            height: 4px;
            left: 10%;
            top: 20%;
            animation-duration: 15s;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 6px;
            height: 6px;
            left: 30%;
            top: 40%;
            animation-duration: 20s;
            animation-delay: 2s;
        }

        .particle:nth-child(3) {
            width: 3px;
            height: 3px;
            left: 50%;
            top: 60%;
            animation-duration: 18s;
            animation-delay: 4s;
        }

        .particle:nth-child(4) {
            width: 5px;
            height: 5px;
            left: 70%;
            top: 30%;
            animation-duration: 22s;
            animation-delay: 1s;
        }

        .particle:nth-child(5) {
            width: 4px;
            height: 4px;
            left: 90%;
            top: 50%;
            animation-duration: 17s;
            animation-delay: 3s;
        }

        .particle:nth-child(6) {
            width: 3px;
            height: 3px;
            left: 15%;
            top: 70%;
            animation-duration: 19s;
            animation-delay: 5s;
        }

        .particle:nth-child(7) {
            width: 5px;
            height: 5px;
            left: 85%;
            top: 15%;
            animation-duration: 21s;
            animation-delay: 2s;
        }

        .particle:nth-child(8) {
            width: 4px;
            height: 4px;
            left: 40%;
            top: 80%;
            animation-duration: 16s;
            animation-delay: 6s;
        }

        @keyframes float-particle {
            0%, 100% {
                transform: translate(0, 0) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            50% {
                transform: translate(50px, -100px) scale(1.5);
                opacity: 0.3;
            }
            90% {
                opacity: 0.6;
            }
        }

        /* Sparkle effect */
        .sparkle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.8);
            animation: twinkle 2s infinite ease-in-out;
        }

        .sparkle:nth-child(9) {
            left: 25%;
            top: 15%;
            animation-delay: 0.5s;
            animation-duration: 1.5s;
        }

        .sparkle:nth-child(10) {
            left: 60%;
            top: 25%;
            animation-delay: 1s;
            animation-duration: 2s;
        }

        .sparkle:nth-child(11) {
            left: 80%;
            top: 60%;
            animation-delay: 0.3s;
            animation-duration: 1.8s;
        }

        .sparkle:nth-child(12) {
            left: 20%;
            top: 75%;
            animation-delay: 0.7s;
            animation-duration: 2.2s;
        }

        .sparkle:nth-child(13) {
            left: 45%;
            top: 10%;
            animation-delay: 1.2s;
            animation-duration: 1.6s;
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1.5);
            }
        }

        /* --- Dialogue Panel --- */
        #chat-wrapper {
            position: absolute;
            bottom: 5vh;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 900px;
            height: 200px;
            background-color: var(--dialogue-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.3);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            z-index: 10;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            padding: 10px;
            box-sizing: border-box;
            animation: fade-slide-up 1s ease-out, pulse-glow 3s infinite;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        #chat-wrapper:hover {
            transform: translateX(-50%) scale(1.02);
            box-shadow: 0 0 40px rgba(100, 255, 218, 0.6);
        }

        @keyframes fade-slide-up {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(100, 255, 218, 0.3);
            }
            50% {
                box-shadow: 0 0 35px rgba(100, 255, 218, 0.5);
            }
        }

        #name-box {
            position: absolute;
            top: -30px;
            left: 30px;
            background-color: var(--name-bg);
            padding: 10px 25px;
            border-radius: 8px 8px 0 0;
            border: 2px solid var(--border-color);
            border-bottom: none;
            font-size: 1.3em;
            font-weight: 700;
            color: var(--border-color);
            animation: shimmer 4s infinite;
            position: relative;
            overflow: hidden;
        }

        #name-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(100, 255, 218, 0.3) 50%,
                transparent 70%
            );
            animation: shimmer-move 3s infinite;
        }

        @keyframes shimmer-move {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }

        #text-wrapper {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        #text-content {
            font-size: 1.5em;
            line-height: 1.7;
            text-align: left;
            width: calc(100% - 40px);
            animation: text-reveal 0.5s ease-out;
        }

        @keyframes text-reveal {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #next-indicator {
            font-size: 2.5em;
            color: var(--border-color);
            animation: blink-bounce 1.5s infinite;
        }

        @keyframes blink-bounce {
            0%, 100% { 
                opacity: 1;
                transform: translateX(0);
            }
            25% {
                opacity: 0.6;
                transform: translateX(5px);
            }
            50% { 
                opacity: 0.3;
                transform: translateX(0);
            }
            75% {
                opacity: 0.6;
                transform: translateX(5px);
            }
        }

    </style>
</head>
<body>

    <div id="whole-wrapper">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div id="chat-wrapper">
            <div id="name-box">놀라운 은혜</div>
            <div id="text-wrapper">
                <p id="text-content">여기를 클릭하여 시작하세요...</p>
                <div id="next-indicator">&gt;</div>
            </div>
        </div>
    </div>

    <script>
        const sermon = [
            "10월 11일 안식일 - 일몰: 오후 6시 00분",
            "하나님의 법은 그분의 성품을 나타내며 어떻게 통치하시는지를 보여준다.",
            "그분의 법은 생명을 존중하며 풍요로운 삶을 위한 기초를 제공하고 어려움으로부터 우리를 보호한다.",
            "우리는 올바른 영적인 토대 위에서 실제 직면하는 모든 일을 대할 필요가 있다.",
            "하나님께서 온전하신 것처럼 우리는 삶 속에서 사랑과 평화의 원칙을 실천해야 한다.",
            "10월 11일 안식일 - 일몰: 오후 6시 00분",
            "'내가 또 왜 그랬을까?' 우리는 얼마나 자주 이런 말을 해왔던가요?",
            "역사만 반복되는 것이 아닙니다. 모든 인류는, 특히 우리 자신도 했던 잘못을 되풀이합니다.",
            "이스라엘은 약속의 땅에 들어갈 두 번째 기회를 얻었습니다. 여호수아는 이 임무를 신중하게 이행합니다.",
            "제일 먼저 할 일은 자신들이 직면한 상황을 명확히 이해하는 것이었습니다.",
            "여호수아는 두 명의 정탐꾼을 보내 그 땅의 중요한 정보를 수집하게 했습니다.",
            "하나님께서 약속하셨기 때문에 아무 노력 없이도 그 땅이 주어질 것이라 생각할 수도 있습니다.",
            "그러나 하나님이 확실히 도와주실 것이라고 해서 인간의 책임이 배제되는 것은 아닙니다.",
            "하나님의 은혜는 우리를 놀라게 할, 생각지도 못한 가능성을 담고 있습니다.",
            "기억절: '믿음으로 기생 라합은 정탐꾼을 평안히 영접하였으므로 순종하지 아니한 자와 함께 멸망하지 아니하였도다' (히브리서 11:31)",
            "학습 목표 (깨닫기): 하나님의 은혜는 놀라우며 우리가 생각지도 못한 가능성을 담고 있습니다.",
            "학습 목표 (느끼기): 하나님은 모든 인류를 차별 없이 대하시며 새롭게 시작할 수 있는 기회를 주십니다.",
            "학습 목표 (행하기): 우리의 믿음을 행동으로 실천하여 하나님의 놀라운 은혜에 동참합니다.",
            "첫째 날 - 두 번째 기회",
            "두 정탐꾼이 잠입한 싯딤은 이스라엘 역사의 두 가지 부정적인 사건을 떠올리게 합니다.",
            "이번에도 약속의 땅 입구에서 또다시 실패하게 될 것인가? 아니면 오랫동안 기다린 약속의 성취로 이어질 것인가?",
            "베드로를 기억하십니까? 그는 예수님을 세 번이나 부인했습니다.",
            "그러나 주님은 그에게 다시 기회를 주셨습니다. 요한복음 21장에서 세 번 사랑을 확인하시며 회복시켜 주셨습니다.",
            "하나님은 두 번째 기회, 아니 그보다 더한 기회를 주시는 하나님이십니다.",
            "이러한 두 번째 기회를 성경은 '은혜'라고 부릅니다.",
            "은혜는 간단히 말해 우리가 받을 자격이 없는 것을 받는 것입니다.",
            "하나님의 은혜가 아니었다면 우리는 지금 어디에 있겠습니까?",
            "둘째 날 - 뜻밖의 장소에서 발견한 보석",
            "라합... 그녀는 여리고의 기생이었습니다. 극도로 죄악된 사회에 속해 있었습니다.",
            "타락하고 부패한 문화와 라합의 죄악된 생활 방식 속에서도, 은혜의 하나님은 그녀를 구원할 믿음의 불꽃을 보셨습니다.",
            "하나님은 라합의 탁월한 용기, 담대한 믿음, 이스라엘의 하나님을 선택한 것을 높이 평가하셨습니다.",
            "하나님의 역사를 본 후 그녀는 선언했습니다: '너희의 하나님 여호와는 위로는 하늘에서도 아래로는 땅에서도 하나님이시니라!'",
            "라합의 말은 이스라엘의 하나님만이 유일하고 참된 신이심을 인정하는 의도적이고 양심적인 선택을 보여줍니다.",
            "이스라엘의 하나님을 선택함으로써 라합은 여리고의 거민 누구라도 하나님께 자비를 구했다면 어떤 결과를 맞이했을지 보여주는 본보기가 되었습니다.",
            "셋째 날 - 새로운 충성",
            "라합의 약속은 명확했습니다. 생명에는 생명을, 친절에는 친절을 원하는 것이었습니다.",
            "라합은 갓 움튼 믿음으로 이스라엘 백성에게 주어진 약속을 주장했고, 그 결과 그녀는 구원을 받았습니다.",
            "정탐꾼들과 라합의 대화는 출애굽 당시 유월절을 떠올리게 합니다.",
            "그때 이스라엘 백성은 보호받기 위해 집 문틀에 희생양의 피를 발라야 했습니다.",
            "사람은 행함이 아닌, 믿음으로 구원을 얻습니다. 그러나 그의 믿음은 행위로 나타나야 합니다.",
            "하나님께서 애굽에서 이스라엘 백성을 살리셨듯이, 이스라엘은 여리고에 멸망이 임할 때 라합과 그녀의 가족을 구해야 했습니다.",
            "넷째 날 - 충돌하는 가치들",
            "기브온 사람들은 이스라엘과 조약을 맺기로 결정했습니다.",
            "기브온 사람들의 말은 라합의 말과 유사했습니다. 두 경우 모두 이스라엘의 하나님의 권능을 인정했습니다.",
            "모세의 율법은 하나님의 뜻을 묻는 규정을 제시했지만, 여호수아는 주님의 뜻을 물지 않았습니다.",
            "신정 정치의 지도자, 나아가 모든 그리스도인 지도자의 근본적인 의무는 하나님의 뜻을 구하는 것입니다.",
            "다섯째 날 - 놀라운 은혜",
            "여호수아의 결정은 기브온 사람들을 향한 저주를 축복의 가능성으로 바꾸었습니다.",
            "이후 기브온 사람들은 예루살렘 재건에 동참했습니다. 이는 오직 하나님의 은혜 때문에 가능했습니다.",
            "하나님의 궁극적인 목적은 죄인들을 벌하는 것이 아니며 그들이 회개하는 것을 보고 자비를 베푸시는 것입니다.",
            "특별 간증 - 의성 산불과 놀라운 은혜",
            "2025년 3월 21일, 봄 심방을 가던 중 교회 뒤편 야산에서 연기가 피어올랐습니다.",
            "의성 산불은 2주가 넘게 번져 큰 피해를 입혔습니다. 다행히 인명 피해는 없었지만 집과 일터를 잃게 되었습니다.",
            "성도들이 눈물 흘리고 망연자실해 있는 모습을 볼 때면 마냥 함께 울고 싶었습니다.",
            "그러나 주께서 재난으로 울고 있는 자녀들에게 다시 기쁨의 눈물을 흘리게 해주시리라 믿었습니다.",
            "성경의 역사는 '전화위복' - 늘 역전하게 하시는 하나님이기에 더 큰 은혜를 주실 것을 믿었습니다.",
            "삼육대학교에서 90명의 봉사대가 와서 의성서부교회가 숙박 장소가 되었습니다.",
            "'당장은 피곤하고 힘들지만 주께서 반드시 우리 교회에 복을 주실 것을 믿습니다.'",
            "성도들은 교회를 내어주며 협력할 수 있어서 감사하다 했습니다.",
            "매우 고통스런 시간이었지만 주님은 재난을 통해 만나지 못했던 영혼들을 만나게 해주셨습니다.",
            "더 놀랍게 주님은 영혼들이 우리 교회를 알게 하시고 교회로 나오게 이끄셨습니다.",
            "이 일을 통해 모두는 전화위복의 하나님, 역전의 하나님을 경험하게 되었습니다.",
            "교회는 5명의 새로운 영혼을 달라고 기도했고, 주님은 생각지도 못한 방법으로 기도를 들어주셨습니다.",
            "비록 아픔이 있지만 영혼들을 만나고 교회의 진정한 행복이 무엇인지 알게 해주신 하나님께 감사드립니다.",
            "결론: 하나님은 실패한 이스라엘에게 다시 기회를 주셔서 가나안을 유업으로 주셨습니다.",
            "은혜는 자격이 없는 이에게 기회를 주는 것입니다.",
            "주님은 라합에게 다윗의 혈통까지 들어가는 놀라운 특권을 주셨습니다.",
            "라합은 예수님의 족보에 등장합니다. 여리고의 창녀였던 그녀가 메시아의 조상이 되었습니다.",
            "진실하게 믿음으로 하나님께 나아가는 이들은 놀라운 은혜를 경험할 것입니다.",
            "하나님은 국적이나 인종, 계급에 따른 어떠한 차별도 인정하지 않으십니다.",
            "하나님의 사랑은 너무나 넓고, 깊고, 충만하여 어디든지 뚫고 들어갑니다.",
            "TMI 실천: 쓰레기를 주우세요. 누군가에게 성경을 가르쳐 주세요. 노약자에게 자리를 양보하세요.",
            "오늘 우리가 배운 놀라운 은혜를 기억하며, 우리도 다른 이들에게 두 번째 기회를 줄 수 있는 사람이 되기를 소망합니다.",
            "TMI 실천: 고아원을 방문해서 필요한 도움을 주세요. 외출이 어려운 이들을 도와주세요. 더운 날 누군가에게 시원한 음료수를 건네세요."
        ];

        const chatWrapper = document.getElementById('chat-wrapper');
        const textContent = document.getElementById('text-content');
        const nextIndicator = document.getElementById('next-indicator');
        const nameBox = document.getElementById('name-box');
        
        let messageIndex = -1; // Start at -1 to show the initial message

        let isTyping = false;

        function typeText(text, callback) {
            if (isTyping) return;
            isTyping = true;
            textContent.textContent = '';
            let charIndex = 0;
            
            const typeInterval = setInterval(() => {
                if (charIndex < text.length) {
                    textContent.textContent += text.charAt(charIndex);
                    charIndex++;
                } else {
                    clearInterval(typeInterval);
                    isTyping = false;
                    if (callback) callback();
                }
            }, 30); // 30ms per character for smooth typing effect
        }

        function showNextMessage() {
            if (isTyping) return; // Prevent advancing while typing
            
            messageIndex++;
            if (messageIndex < sermon.length) {
                // Trigger re-animation by removing and re-adding the animation class
                textContent.style.animation = 'none';
                setTimeout(() => {
                    textContent.style.animation = '';
                }, 10);

                // Type the text with animation
                typeText(sermon[messageIndex]);

                // Change title based on content
                if (sermon[messageIndex].startsWith("기억절:")) {
                    nameBox.textContent = "오늘의 기억절";
                } else if (sermon[messageIndex].startsWith("학습 목표")) {
                    nameBox.textContent = "학습 목표";
                } else if (sermon[messageIndex].startsWith("첫째 날") || sermon[messageIndex].startsWith("둘째 날") || sermon[messageIndex].startsWith("셋째 날") || sermon[messageIndex].startsWith("넷째 날") || sermon[messageIndex].startsWith("다섯째 날")) {
                    nameBox.textContent = sermon[messageIndex];
                } else if (sermon[messageIndex].startsWith("특별 간증")) {
                    nameBox.textContent = "특별 간증 - 의성 산불";
                } else if (sermon[messageIndex].startsWith("결론:")) {
                    nameBox.textContent = "결론";
                } else if (sermon[messageIndex].startsWith("TMI 실천:")) {
                    nameBox.textContent = "TMI 실천하기";
                } else {
                    nameBox.textContent = "놀라운 은혜";
                }

            } else {
                typeText("학습이 끝났습니다.", () => {
                    nameBox.textContent = "마침";
                    nextIndicator.style.display = 'none'; // Hide indicator at the end
                    chatWrapper.style.cursor = 'default'; // Change cursor to default
                });
            }
        }

        chatWrapper.addEventListener('click', showNextMessage);

    </script>
</body>
</html>
